// edx cursor state and movement.

forge EdxCursor {

    const CURSOR_MIN_ROW: UInt32 = 0;
    const CURSOR_MIN_COL: UInt32 = 0;
    const CURSOR_DEFAULT_ROW: UInt32 = 0;
    const CURSOR_DEFAULT_COL: UInt32 = 0;

    const CURSOR_MAX_ROW: UInt32 = 24;
    const CURSOR_MAX_COL: UInt32 = 79;

    proc K::cursor_reset() -> UInt32 {
        set_cursor(CURSOR_DEFAULT_ROW, CURSOR_DEFAULT_COL);
        return 0;
    }

    proc K::cursor_move_left() -> UInt32 {
        let col = get_cursor_col();
        if col == CURSOR_MIN_COL {
            return 0;
        } else {
            set_cursor(get_cursor_row(), col - 1);
            return 0;
        }
    }

    proc K::cursor_move_right() -> UInt32 {
        let col = get_cursor_col();
        if col >= CURSOR_MAX_COL {
            return 0;
        } else {
            set_cursor(get_cursor_row(), col + 1);
            return 0;
        }
    }

    proc K::cursor_move_up() -> UInt32 {
        let row = get_cursor_row();
        if row == CURSOR_MIN_ROW {
            return 0;
        } else {
            set_cursor(row - 1, get_cursor_col());
            return 0;
        }
    }

    proc K::cursor_move_down() -> UInt32 {
        let row = get_cursor_row();
        if row >= CURSOR_MAX_ROW {
            return 0;
        } else {
            set_cursor(row + 1, get_cursor_col());
            return 0;
        }
    }

    proc K::cursor_get_row() -> UInt32 {
        return get_cursor_row();
    }

    proc K::cursor_get_col() -> UInt32 {
        return get_cursor_col();
    }
}
